cmake_minimum_required(VERSION 3.15)
project(Math CXX)
###################################################
add_library(Math INTERFACE)

if (USE_GLM)
  #find_package(glm REQUIRED)
  if (NOT GLM_FOUND)
	add_subdirectory(${CMAKE_SOURCE_DIR}/submodules/glm glm EXCLUDE_FROM_ALL)
  else()
	  target_link_libraries(${PROJECT_NAME} INTERFACE glm)
	  include_directories(${GLM_INCLUDE_DIRS})
	  target_include_directories(${PROJECT_NAME} INTERFACE ${GLM_INCLUDE_DIR})
  endif()
  target_link_libraries(${PROJECT_NAME} INTERFACE glm)
  get_property(includes TARGET glm PROPERTY INTERFACE_INCLUDE_DIRECTORIES)
  set_property(TARGET Math PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${includes})
  target_compile_definitions(${PROJECT_NAME} INTERFACE -DUSE_GLM)
  target_compile_definitions(${PROJECT_NAME} INTERFACE -DGLM_ENABLE_EXPERIMENTAL)
endif()
###################################################
